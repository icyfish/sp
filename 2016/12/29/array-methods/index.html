<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="IDYUPnBNhdnU8o9LRNKZ1RSt14tIxTI0rLeMrBtswXw"><title> å¸¸ç”¨æ•°ç»„æ–¹æ³•åŠå…¶åº”ç”¨ Â· Fish</title><meta name="description" content="å¸¸ç”¨æ•°ç»„æ–¹æ³•åŠå…¶åº”ç”¨ - Fish"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/posts/favicon.png"><link rel="stylesheet" href="/posts/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://icyfish.github.io/posts/atom.xml" title="Fish"></head><body><div class="wrap"><header><a href="/posts/" class="logo-link"><img src="/posts/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/posts/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/posts/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/posts/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="http://twitter.com/icyfish_" target="_blank" class="nav-list-link">TWITTER</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">å¸¸ç”¨æ•°ç»„æ–¹æ³•åŠå…¶åº”ç”¨</h1><div class="post-info">Dec 29, 2016</div><div class="post-content"><p>JavaScriptä¸­ä¸€äº›è¾ƒå¸¸ç”¨, èƒ½æé«˜æ•ˆç‡çš„æ•°ç»„æ–¹æ³•.</p>
<a id="more"></a>
<h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h2><p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> colors = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'blue'</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä¸ä½¿ç”¨forEach</span></span><br><span class="line"><span class="hljs-comment">// éå†æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; colors.length; i++)&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(colors[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä½¿ç”¨forEach</span></span><br><span class="line"></span><br><span class="line">colors.forEach(<span class="hljs-function"><span class="hljs-params">color</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(color);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/posts/images/array-forEach.jpg" alt="forEach"></p>
<p>åŸæ•°ç»„çš„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Functionå¹¶æ‰§è¡Œ.</p>
<p><strong>æ›´å®é™…çš„åº”ç”¨:</strong></p>
<p><img src="/posts/images/array-forEach1.jpg" alt="forEach1"></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];</span><br><span class="line"><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">numbers.forEach(<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> &#123;</span><br><span class="line">  sum += number;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(sum);</span><br></pre></td></tr></table></figure>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];</span><br><span class="line"><span class="hljs-comment">// å°†åŸæ•°ç»„ä¸­å„ä¸ªå…ƒç´ X2è¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä¸ä½¿ç”¨mapå®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> doubledNumbers = []; <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„æ¥å­˜å‚¨æ•°æ®, ä¸ºäº†ä¸æ”¹å˜åŸæ•°ç»„ (avoid mutating)</span></span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; numbers.length; i++)&#123;</span><br><span class="line">  doubledNumbers.push(numbers[i] * <span class="hljs-number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">console</span>.log(doubledNumbers); <span class="hljs-comment">// [2, 4, 6, 8]</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä½¿ç”¨mapå®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> doubledMap = numbers.map(<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> number * <span class="hljs-number">2</span>)</span><br><span class="line"><span class="hljs-built_in">console</span>.log(doubledMap); <span class="hljs-comment">// [2, 4, 6, 8]</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/images/array-map.jpg" alt="map"></p>
<p>åŸæ•°ç»„çš„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Functionå¹¶æ‰§è¡Œ, æ‰§è¡Œåçš„ç»“æœè¢«è¿”å›å¹¶å­˜å…¥æ–°æ•°ç»„.</p>
<p>mapå¯ä»¥ç”¨äºæ±‡æ€»æ•°ç»„å†…å„ä¸ªå…ƒç´ çš„å±æ€§å€¼, å¹¶è¾“å‡ºç›¸å…³ä¿¡æ¯. ä¾‹å­:</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> cars = [</span><br><span class="line">  &#123;<span class="hljs-attr">model</span>: <span class="hljs-string">'Buick'</span>, <span class="hljs-attr">price</span>: <span class="hljs-string">'cheap'</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">model</span>: <span class="hljs-string">'Camaro'</span>, <span class="hljs-attr">price</span>: <span class="hljs-string">'expensive'</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> model = cars.map(<span class="hljs-function"><span class="hljs-params">car</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> car.model;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(model); <span class="hljs-comment">// ['Buick', 'Camaro']</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> price = cars.map(<span class="hljs-function"><span class="hljs-params">car</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> car.price;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(price); <span class="hljs-comment">// ['cheap', 'expensive']</span></span><br></pre></td></tr></table></figure>
<p>æ¸²æŸ“æ•°æ®åˆ—è¡¨:</p>
<p>å¯åœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥ä»¥ä¸‹ä»£ç ç‰‡æ®µæŸ¥çœ‹æ•ˆæœ</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> cars = [</span><br><span class="line">  &#123;<span class="hljs-attr">model</span>: <span class="hljs-string">'Buick'</span>, <span class="hljs-attr">price</span>: <span class="hljs-string">'cheap'</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">model</span>: <span class="hljs-string">'Camaro'</span>, <span class="hljs-attr">price</span>: <span class="hljs-string">'expensive'</span>&#125;</span><br><span class="line">];  </span><br><span class="line"><span class="hljs-keyword">const</span> carsList = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'ul'</span>);</span><br><span class="line"></span><br><span class="line"> <span class="hljs-keyword">const</span> aboutCars = cars.map(<span class="hljs-function"><span class="hljs-params">car</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;li&gt;<span class="hljs-subst">$&#123;car.model&#125;</span> is <span class="hljs-subst">$&#123;car.price&#125;</span>&lt;/li&gt;`</span>;</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line">aboutCars.forEach(<span class="hljs-function"><span class="hljs-params">car</span> =&gt;</span> &#123;</span><br><span class="line">  carsList.innerHTML += car;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="hljs-built_in">document</span>.body.innerHTML = <span class="hljs-string">''</span>;</span><br><span class="line"><span class="hljs-built_in">document</span>.body.appendChild(carsList);</span><br></pre></td></tr></table></figure>
<p><strong>æ›´å®é™…çš„åº”ç”¨:</strong></p>
<p><img src="/posts/images/array-map-practical.jpg" alt="map-practical"></p>
<h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> products = [</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'cucumber'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'vegetable'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">1</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'banana'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'fruit'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">15</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'cucumber'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'vegetable'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">12</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'orange'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'fruit'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">8</span> &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä¸ä½¿ç”¨filterå®ç°</span></span><br><span class="line"><span class="hljs-comment">// ç­›é€‰å‡ºç±»å‹ä¸ºæ°´æœçš„äº§å“</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> filteredProducts = [];</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; products.length; i++)&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span>(products[i].type === <span class="hljs-string">'fruit'</span>)&#123;</span><br><span class="line">    filteredProducts.push(products[i])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">console</span>.table(filteredProducts);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä½¿ç”¨filterå®ç°</span></span><br><span class="line"><span class="hljs-comment">// ç­›é€‰å‡ºç±»å‹ä¸ºæ°´æœçš„äº§å“</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> fruit = products.filter(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> product.type === <span class="hljs-string">'fruit'</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.table(fruit);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç­›é€‰å‡ºç±»å‹ä¸ºè”¬èœ, ä¸”æ•°é‡å¤§äº0, ä¸”ä»·æ ¼å°äº10çš„äº§å“</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> veg = products.filter(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> product.type === <span class="hljs-string">'vegetable'</span> &amp;&amp; product.quantity &gt; <span class="hljs-number">0</span> &amp;&amp; product.price &lt; <span class="hljs-number">10</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.table(veg);</span><br></pre></td></tr></table></figure>
<p><code>console.table</code>å°†æ•°ç»„ä»¥è¡¨æ ¼çš„å½¢å¼æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸­, å¯è¯»æ€§æ›´å¼º.</p>
<p><img src="/posts/images/array-filter.jpg" alt="filter"></p>
<p>åŸæ•°ç»„çš„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å€¼çš„ç±»å‹ä¸ºå¸ƒå°”å€¼, å¦‚æœè¿”å›true, åˆ™è¯¥å…ƒç´ è¢«å­˜å…¥ç»“æœæ•°ç»„.</p>
<p><strong>æ›´å®é™…çš„åº”ç”¨:</strong></p>
<p>ç­›é€‰å‡ºæŒ‡å®špostçš„commentå†…å®¹:</p>
<p><img src="/posts/images/array-filter-practical.jpg" alt="filter-practical"></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> post = &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'New Post'</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> comments = [</span><br><span class="line">  &#123; <span class="hljs-attr">postId</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Awesome Post'</span>&#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">postId</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'It was ok'</span>&#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">postId</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'neat'</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commentsForPost</span>(<span class="hljs-params">post, comments</span>)</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> comments.filter(<span class="hljs-function"><span class="hljs-params">comment</span> =&gt;</span> comment.postId === post.id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> filteredComments = commentsForPost(post, comments);</span><br><span class="line"><span class="hljs-built_in">console</span>.table(filteredComments);</span><br></pre></td></tr></table></figure>
<p>åœ¨Todo Appä¸­:</p>
<p>æœªå®Œæˆçš„todoä¼šä¸€ç›´æ˜¾ç¤º, å®Œæˆçš„todoåªæœ‰åœ¨showCompletedä¸ºtrueæ—¶æ‰æ˜¾ç¤º<br><figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> filteredTodos = filteredTodos.filter(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> !todo.completed || showCompleted;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Ps: é€»è¾‘æ“ä½œç¬¦ <code>||</code>(â€œæˆ–â€)</p>
<p><code>expr1 || expr2</code>, å¦‚æœè¡¨è¾¾å¼ç»“æœä¸ºtrue, åˆ™è¿”å›expr1, falseåˆ™è¿”å›expr1, å› æ­¤å½“å‚æ•°ä¸ºå¸ƒå°”å€¼æ—¶, ä»»æ„ä¸€ä¸ªå‚æ•°ä¸ºtrue, <code>expr1 || expr2</code>è¿”å›çš„ç»“æœå°±ä¸ºtrue.</p>
<h2 id="find-and-findIndex"><a href="#find-and-findIndex" class="headerlink" title="find and findIndex"></a>find and findIndex</h2><p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> users = [</span><br><span class="line">  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'Jill'</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'Bill'</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'Alex'</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> user;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å¯»æ‰¾åä¸ºAlexçš„user</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä¸ä½¿ç”¨ find</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; users.length; i++)&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (users[i].name === <span class="hljs-string">'Alex'</span>)&#123;</span><br><span class="line">    user = users[i];</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">console</span>.log(user); <span class="hljs-comment">// &#123;name: 'Alex'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä½¿ç”¨ find</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> findUser = users.find(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.name === <span class="hljs-string">'Alex'</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(findUser); <span class="hljs-comment">// &#123;name: 'Alex'&#125;</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/images/array-find.jpg" alt="find"></p>
<p>åŸæ•°ç»„çš„å…ƒç´ è¢«æŒ‰é¡ºåºè¢«ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å€¼çš„ç±»å‹ä¸ºå¸ƒå°”å€¼, å½“Iterator Functionè¿”å›trueæ—¶, åœæ­¢è°ƒç”¨Iterator Function, å¹¶è¿”å›åœæ­¢å‰æœ€åä¸€ä¸ªIterator Functionæ‰§è¡Œçš„ç»“æœ.</p>
<p>å¦‚æœæœ‰ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ ç¬¦åˆè¦æ±‚, åªæœ‰ç¬¬ä¸€ä¸ªä¼šè¢«è¿”å›.</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">model</span>)</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.model = model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> cars = [</span><br><span class="line">  <span class="hljs-keyword">new</span> Car(<span class="hljs-string">'Buick'</span>),</span><br><span class="line">  <span class="hljs-keyword">new</span> Car(<span class="hljs-string">'Camaro'</span>),</span><br><span class="line">  <span class="hljs-keyword">new</span> Car(<span class="hljs-string">'Focus'</span>)</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> focusCar =  cars.find(<span class="hljs-function"><span class="hljs-params">car</span> =&gt;</span> car.model === <span class="hljs-string">'Focus'</span>)</span><br><span class="line"><span class="hljs-built_in">console</span>.log(focusCar); <span class="hljs-comment">// &#123;model: "Focus"&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ›´å®é™…çš„åº”ç”¨:</strong></p>
<p>åˆ©ç”¨findå¯»æ‰¾ç‰¹å®šidå€¼çš„post:</p>
<p><img src="/posts/images/array-find-practical1.jpg" alt="find-practical1"></p>
<p><img src="/posts/images/array-find-practical2.jpg" alt="find-practical2"></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> posts = [</span><br><span class="line">  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'New Post'</span>&#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Old Post'</span>&#125;</span><br><span class="line">]</span><br><span class="line"><span class="hljs-keyword">const</span> comment = &#123; <span class="hljs-attr">postId</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Awesome Post'</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postForComment</span>(<span class="hljs-params">posts, comment</span>)</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> posts.find(<span class="hljs-function"><span class="hljs-params">post</span> =&gt;</span> post.id === comment.postId)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">postForComment(posts, comment);</span><br><span class="line"><span class="hljs-comment">// &#123; id: 1, title: 'New Post'&#125;</span></span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ç‰¹å®šè¯„è®º:</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> comments = [</span><br><span class="line">  &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">'Love this!'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">523423</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">'Super good'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">823423</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">'You are the best'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">2039842</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">'Ramen is my fav food ever'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">123523</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">'Nice Nice Nice!'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">542328</span> &#125;</span><br><span class="line">];</span><br><span class="line"><span class="hljs-keyword">const</span> comment = comments.find(<span class="hljs-function"><span class="hljs-params">comment</span> =&gt;</span> comment.id === <span class="hljs-number">823423</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(comment);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// åˆ©ç”¨findIndexæ‰¾åˆ°å…·æœ‰æŸä¸ªç‰¹å®šidçš„è¯„è®ºçš„ç´¢å¼•å€¼</span></span><br><span class="line"><span class="hljs-keyword">const</span> commentIndex = comments.findIndex(<span class="hljs-function"><span class="hljs-params">comment</span> =&gt;</span> comment.id === <span class="hljs-number">823423</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(commentIndex); <span class="hljs-comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ ¹æ®ç´¢å¼•å€¼åˆ é™¤è¯¥æ¡è¯„è®º, æœ‰ä¸¤ç§æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 1. ä½†ä¼šæ”¹å˜(mutate)åŸå…ˆçš„comments, ä¸å¥½</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// comments.splice(index, 1);</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 2. æ–°å»ºä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜ä¿®æ”¹åçš„comments, (immutable) ğŸ‘</span></span><br><span class="line"><span class="hljs-keyword">const</span> newComments = [</span><br><span class="line">  ...comments.slice(<span class="hljs-number">0</span>, commentIndex),</span><br><span class="line">  ...comments.slice(commentIndex + <span class="hljs-number">1</span>)</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.table(comments);</span><br><span class="line"><span class="hljs-built_in">console</span>.table(newComments);</span><br></pre></td></tr></table></figure>
<h2 id="every-and-some"><a href="#every-and-some" class="headerlink" title="every and some"></a>every and some</h2><p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> computers = [</span><br><span class="line">  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'Apple'</span>, <span class="hljs-attr">ram</span>: <span class="hljs-number">24</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'Compaq'</span>, <span class="hljs-attr">ram</span>: <span class="hljs-number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'Acer'</span>, <span class="hljs-attr">ram</span>: <span class="hljs-number">32</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å¯»æ‰¾æ‰€æœ‰èƒ½è¿è¡Œç‰¹å®šç¨‹åºçš„ç”µè„‘</span></span><br><span class="line"><span class="hljs-comment">// å¯»æ‰¾èƒ½è¿è¡Œç‰¹å®šç¨‹åºçš„æŸå°ç”µè„‘</span></span><br><span class="line"><span class="hljs-comment">// ä¸ä½¿ç”¨ every &amp; some</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> allComputersCanRunProgram = <span class="hljs-literal">true</span>;</span><br><span class="line"><span class="hljs-keyword">let</span> onlySomeComputersCanRunProgram = <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; computers.length; i++)&#123;</span><br><span class="line">  <span class="hljs-keyword">let</span> computer = computers[i];</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span>(computer.ram &lt; <span class="hljs-number">16</span>) &#123;</span><br><span class="line">    allComputersCanRunProgram = <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    onlySomeComputersCanRunProgram = <span class="hljs-literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">console</span>.log(allComputersCanRunProgram); <span class="hljs-comment">// false</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(onlySomeComputersCanRunProgram); <span class="hljs-comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä½¿ç”¨ every &amp; some</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> allComputers = computers.every(<span class="hljs-function"><span class="hljs-params">computer</span> =&gt;</span> computer.ram &gt; <span class="hljs-number">16</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(allComputers); <span class="hljs-comment">// false</span></span><br><span class="line"><span class="hljs-keyword">const</span> onlySomeComputers = computers.some(<span class="hljs-function"><span class="hljs-params">computer</span> =&gt;</span> computer.ram &gt; <span class="hljs-number">16</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(onlySomeComputers); <span class="hljs-comment">//true</span></span><br></pre></td></tr></table></figure>
<p><em>every:</em></p>
<p><img src="/posts/images/array-every.jpg" alt="every"></p>
<ol>
<li>æ•°ç»„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å¸ƒå°”å€¼.</li>
<li>è¿”å›å¸ƒå°”å€¼å, ä¼šæ£€è§†æ‰€æœ‰å€¼å¹¶é€šè¿‡é€»è¾‘æ“ä½œç¬¦<code>&amp;&amp;</code>(ä¸)å¯¹æœ€åç»“æœè¿›è¡Œåˆ¤æ–­.</li>
<li>å¦‚æœæ¯ä¸€ä¸ªå‡½æ•°æ‰€è¿”å›çš„å¸ƒå°”å€¼æ˜¯true, é‚£ä¹ˆæœ€åç»“æœå°±ä¸ºtrue, æœ‰ä¸€ä¸ªä¸ºfalse, æœ€åç»“æœå°±ä¸ºfalse.</li>
</ol>
<p><em>some:</em></p>
<p><img src="/posts/images/array-some.jpg" alt="some"></p>
<p>someä¸everyå¾ˆç›¸ä¼¼:</p>
<ol>
<li>æ•°ç»„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å¸ƒå°”å€¼.</li>
<li>è¿”å›å¸ƒå°”å€¼å, ä¼šæ£€è§†æ‰€æœ‰å€¼å¹¶é€šè¿‡é€»è¾‘æ“ä½œç¬¦<code>||</code>(æˆ–)å¯¹æœ€åç»“æœè¿›è¡Œåˆ¤æ–­.</li>
<li>å¦‚æœæ¯ä¸€ä¸ªå‡½æ•°æ‰€è¿”å›çš„å¸ƒå°”å€¼ä¸­æœ‰ä¸€ä¸ªä¸ºtrue, é‚£ä¹ˆæœ€åç»“æœå°±ä¸ºtrue, å…¨éƒ¨ä¸ºfalse, æœ€ååˆ™æ˜¯false.</li>
</ol>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> people = [</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'Wes'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1988</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'Kait'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1986</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'Irv'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1970</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'Lux'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2015</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ˜¯å¦æœ‰å¤§äº19å²çš„äºº</span></span><br><span class="line"><span class="hljs-keyword">const</span> isAdult = people.some(<span class="hljs-function"><span class="hljs-params">person</span> =&gt;</span> ((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getFullYear()) - person.year &gt;= <span class="hljs-number">19</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(isAdult);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(&#123;isAdult&#125;); <span class="hljs-comment">// å¯¹è±¡è¾“å‡ºæ—¶åŠ ä¸Š&#123;&#125;å¯è¯»æ€§æ›´å¼º</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ˜¯å¦æ‰€æœ‰äººéƒ½å¤§äº19å²</span></span><br><span class="line"><span class="hljs-keyword">const</span> allAdult = people.every(<span class="hljs-function"><span class="hljs-params">person</span> =&gt;</span> ((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getFullYear()) - person.year &gt;= <span class="hljs-number">19</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(&#123;allAdult&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>æ›´å®é™…çš„åº”ç”¨:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Field</span>(<span class="hljs-params">value</span>)</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.value = value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Field.prototype.validate = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value.length &gt; <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> username = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">'2cool'</span>);</span><br><span class="line"><span class="hljs-keyword">let</span> password = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">'my_password'</span>);</span><br><span class="line"><span class="hljs-keyword">let</span> birthdate = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">'10/10/2010'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// no every &amp; some</span></span><br><span class="line">username.validate() &amp;&amp; password.validate() &amp;&amp; birthdate.validate()</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// every</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> fields = [username, password, birthdate];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> formIsValid = fields.every(<span class="hljs-function"><span class="hljs-params">field</span> =&gt;</span> field.validate())</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span>(formIsValid) &#123;</span><br><span class="line">  <span class="hljs-comment">// allow user to submit</span></span><br><span class="line">&#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="line">  <span class="hljs-comment">// show an error message</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareFunction</span>(<span class="hljs-params">a, b</span>)</span>&#123;</span><br><span class="line">  <span class="hljs-comment">// return -1, aå‡ºç°åœ¨bä¹‹å‰</span></span><br><span class="line">  <span class="hljs-comment">// return 1,  aå‡ºç°åœ¨bä¹‹å</span></span><br><span class="line">  <span class="hljs-comment">// return 0, é¡ºåºä¸å˜</span></span><br><span class="line">&#125;</span><br><span class="line">arr.sort(compareFunction);</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> numbers = [<span class="hljs-number">4</span>, <span class="hljs-number">20</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>];</span><br><span class="line">numbers.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> a - b;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(numbers); <span class="hljs-comment">// [1, 3, 4, 5, 20]</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ²¡æœ‰comparisonFunction, å…ˆå°†æ•°åˆ—ä¸­çš„å†…å®¹è½¬åŒ–æˆå­—ç¬¦ä¸²å†æ ¹æ®Unicodeé¡ºåºæ’åº.</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> scores = [<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">21</span>, <span class="hljs-number">2</span>];</span><br><span class="line">scores.sort();</span><br><span class="line"><span class="hljs-built_in">console</span>.log(scores); <span class="hljs-comment">// [1, 10, 2, 21]</span></span><br><span class="line"><span class="hljs-comment">// 10åœ¨ 2ä¹‹å‰,</span></span><br><span class="line"><span class="hljs-comment">// å› ä¸ºåœ¨Unicodeç ä¸­'10'åœ¨'2'ä¹‹å‰</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> inventors = [</span><br><span class="line">  &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">'Albert'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Einstein'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1879</span>, <span class="hljs-attr">passed</span>: <span class="hljs-number">1955</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">'Isaac'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Newton'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1643</span>, <span class="hljs-attr">passed</span>: <span class="hljs-number">1727</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">'Galileo'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Galilei'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1564</span>, <span class="hljs-attr">passed</span>: <span class="hljs-number">1642</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">'Marie'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Curie'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1867</span>, <span class="hljs-attr">passed</span>: <span class="hljs-number">1934</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">'Johannes'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Kepler'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1571</span>, <span class="hljs-attr">passed</span>: <span class="hljs-number">1630</span> &#125;,</span><br><span class="line">  &#123; <span class="hljs-attr">first</span>: <span class="hljs-string">'Nicolaus'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Copernicus'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1473</span>, <span class="hljs-attr">passed</span>: <span class="hljs-number">1543</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç”Ÿè¾°ä»æ—©åˆ°æ™š</span></span><br><span class="line"></span><br><span class="line">inventors.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.year - b.year ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.table(inventors);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ´»å¾—é•¿çš„å‘æ˜å®¶æ’åœ¨å</span></span><br><span class="line"></span><br><span class="line">inventors.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> (a.passed - a.year) - (b.passed - b.year);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.table(inventors);</span><br></pre></td></tr></table></figure>
<p><strong>å¯¹æ•°ç»„ä»¥å…ƒç´ å­—æ¯é¡ºåºè¿›è¡Œæ’åº</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> people = [<span class="hljs-string">'Beck, Glenn'</span>, <span class="hljs-string">'Becker, Carl'</span>, <span class="hljs-string">'Beckett, Samuel'</span>, <span class="hljs-string">'Beddoes, Mick'</span>, <span class="hljs-string">'Beecher, Henry'</span>, <span class="hljs-string">'Billings, Josh'</span>, <span class="hljs-string">'Biondo, Frank'</span>, <span class="hljs-string">'Birrell, Augustine'</span>, <span class="hljs-string">'Black, Elk'</span>, <span class="hljs-string">'Blair, Robert'</span>, <span class="hljs-string">'Blair, Tony'</span>, <span class="hljs-string">'Blake, William'</span>]</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> alpha = people.sort(<span class="hljs-function">(<span class="hljs-params">lastOne, nextOne</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> [aLast, aFirst] = lastOne.split(<span class="hljs-string">', '</span>);</span><br><span class="line">  <span class="hljs-keyword">const</span> [bLast, bFirst] = nextOne.split(<span class="hljs-string">', '</span>);</span><br><span class="line">  <span class="hljs-keyword">return</span> aLast &gt; bLast ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(alpha);</span><br></pre></td></tr></table></figure>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// å¯¹å„ä¸ªbandæŒ‰å­—æ¯é¡ºåºæ’åº, éœ€è¦å¿½ç•¥åå­—å¼€å¤´çš„å† è¯å†è¿›è¡Œæ’åº</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> bands = [<span class="hljs-string">'The Plot in You'</span>, <span class="hljs-string">'The Devil Wears Prada'</span>, <span class="hljs-string">'Pierce the Veil'</span>, <span class="hljs-string">'Norma Jean'</span>, <span class="hljs-string">'The Bled'</span>, <span class="hljs-string">'Say Anything'</span>, <span class="hljs-string">'The Midway State'</span>, <span class="hljs-string">'We Came as Romans'</span>, <span class="hljs-string">'Counterparts'</span>, <span class="hljs-string">'Oh, Sleeper'</span>, <span class="hljs-string">'A Skylit Drive'</span>, <span class="hljs-string">'Anywhere But Here'</span>, <span class="hljs-string">'An Old Dog'</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">strip</span>(<span class="hljs-params">bandName</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> bandName.replace(<span class="hljs-regexp">/^(a |the |an )/i</span>, <span class="hljs-string">''</span>).trim();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> sortedBands = bands.sort(<span class="hljs-function">(<span class="hljs-params">a,b</span>) =&gt;</span> strip(a) &gt; strip(b) ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(sortedBands);</span><br></pre></td></tr></table></figure>
<p>Todo Appä¸­, æœªå®Œæˆçš„Todoæ˜¾ç¤ºåœ¨å·²å®Œæˆçš„ä¹‹å‰:</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> sortedTodos;</span><br><span class="line"></span><br><span class="line">sortedTodos.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">if</span>(!a.completed &amp;&amp; b.completed)&#123;</span><br><span class="line">   <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;</span><br><span class="line">  &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a.completed &amp;&amp; !b.completed) &#123;</span><br><span class="line">   <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">  &#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="line">   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Ps: é€»è¾‘æ“ä½œç¬¦ <code>&amp;&amp;</code>(â€œä¸â€)</p>
<p><code>expr1 &amp;&amp; expr2</code>, å¦‚æœè¡¨è¾¾å¼ç»“æœä¸ºfalse, åˆ™è¿”å›expr1, å¦åˆ™è¿”å›expr2, å› æ­¤å½“å‚æ•°ä¸ºå¸ƒå°”å€¼æ—¶, è‹¥å‚æ•°å‡ä¸ºtrue, åˆ™ç»“æœè¿”å›true, å¦åˆ™è¿”å›false.</p>
<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>];</span><br><span class="line"><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä¸ä½¿ç”¨ reduce</span></span><br><span class="line"><span class="hljs-comment">// è®¡ç®—numbersæ•°ç»„ä¸­æ‰€æœ‰å€¼çš„å’Œ</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; numbers.length; i++)&#123;</span><br><span class="line">  sum += numbers[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(sum); <span class="hljs-comment">//60</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//ä½¿ç”¨ reduce</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> reduceSum = numbers.reduce(<span class="hljs-function">(<span class="hljs-params">sum, number</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> sum + number;</span><br><span class="line">&#125;, <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(reduceSum); <span class="hljs-comment">//60</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/images/array-reduce.jpg" alt="reduce"></p>
<p>ä¼ å…¥reduceçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆå§‹å€¼(initial value), ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Iterator Function, Iterator Functionæ¥å—ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸€æ¬¡æ‰§è¡Œæ¥å—åˆå§‹å€¼å’ŒåŸæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå‚æ•°, æ‰§è¡Œç»“æŸåè¿”å›çš„å€¼ä½œä¸ºIterator Functionçš„ç¬¬ä¸€ä¸ªå‚æ•°, åŸæ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°, ä»¥æ­¤ç±»æ¨.</p>
<p>reduceåŠŸèƒ½å¼ºå¤§, å¯ä»¥ä½¿ç”¨reduceå®ç°ä»¥ä¸Šæ‰€æœ‰æ•°ç»„æ–¹æ³•çš„åŠŸèƒ½.</p>
<p><strong>reduceå®ç°mapçš„åŠŸèƒ½:</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> primaryColors = [</span><br><span class="line">  &#123;<span class="hljs-attr">color</span>: <span class="hljs-string">'red'</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">color</span>: <span class="hljs-string">'yellow'</span>&#125;,</span><br><span class="line">  &#123;<span class="hljs-attr">color</span>: <span class="hljs-string">'blue'</span>&#125;,</span><br><span class="line">];</span><br><span class="line"><span class="hljs-keyword">const</span> reducedColor = primaryColors.reduce(<span class="hljs-function">(<span class="hljs-params">accumulator, primaryColor</span>)=&gt;</span>&#123;</span><br><span class="line">  accumulator.push(primaryColor.color);</span><br><span class="line">  <span class="hljs-keyword">return</span> accumulator;</span><br><span class="line">&#125;, []);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(reducedColor); <span class="hljs-comment">// ["red", "yellow", "blue"]</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// è‹¥ä½¿ç”¨map, åˆ™æ˜¯:</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> mappedColor = primaryColors.map(<span class="hljs-function"><span class="hljs-params">primaryColor</span> =&gt;</span> primaryColor.color);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(mappedColor); <span class="hljs-comment">// ["red", "yellow", "blue"]</span></span><br></pre></td></tr></table></figure>
<p><strong>è®¡ç®—orderæ€»é‡</strong>:</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> orders = [</span><br><span class="line">	&#123; <span class="hljs-attr">amount</span>: <span class="hljs-number">250</span> &#125;,</span><br><span class="line">	&#123; <span class="hljs-attr">amount</span>: <span class="hljs-number">200</span> &#125;,</span><br><span class="line">	&#123; <span class="hljs-attr">amount</span>: <span class="hljs-number">340</span> &#125;,</span><br><span class="line">	&#123; <span class="hljs-attr">amount</span>: <span class="hljs-number">100</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> totalAmount = orders.reduce(<span class="hljs-function">(<span class="hljs-params">sum, order</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="hljs-keyword">return</span> sum + order.amount</span><br><span class="line">&#125;, <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(totalAmount);</span><br></pre></td></tr></table></figure>
<p><strong>è®¡ç®—å„ä¸ªäº¤é€šå·¥å…·çš„ä¸ªæ•°</strong></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> data = [<span class="hljs-string">'car'</span>, <span class="hljs-string">'car'</span>, <span class="hljs-string">'truck'</span>, <span class="hljs-string">'truck'</span>, <span class="hljs-string">'bike'</span>, <span class="hljs-string">'walk'</span>, <span class="hljs-string">'car'</span>, <span class="hljs-string">'van'</span>, <span class="hljs-string">'bike'</span>, <span class="hljs-string">'walk'</span>, <span class="hljs-string">'car'</span>, <span class="hljs-string">'van'</span>, <span class="hljs-string">'car'</span>, <span class="hljs-string">'truck'</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> transportation = data.reduce(<span class="hljs-function">(<span class="hljs-params">obj, item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (!obj[item]) &#123;</span><br><span class="line">    obj[item] = <span class="hljs-number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  obj[item]++;</span><br><span class="line">  <span class="hljs-keyword">return</span> obj;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(transportation);</span><br><span class="line"><span class="hljs-comment">//&#123;car: 5, truck: 3, bike: 2, walk: 2, van: 2&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ£€æŸ¥æ‹¬å·æ˜¯å¦å¯¹ç§°</strong></p>
<p>(å¿…é¡»æ˜¯ä¸€å¯¹æ‹¬å·ä¸”å·¦æ‹¬å·åœ¨å‰) [balanced parentheses]:</p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">balancedParens</span>(<span class="hljs-params">string</span>)</span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> !string.split(<span class="hljs-string">''</span>).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">counter, char</span>)</span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (counter &lt; <span class="hljs-number">0</span>) &#123;<span class="hljs-keyword">return</span> counter;&#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (char === <span class="hljs-string">"("</span>) &#123;<span class="hljs-keyword">return</span> ++counter;&#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (char === <span class="hljs-string">")"</span>) &#123;<span class="hljs-keyword">return</span> --counter;&#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> counter;</span><br><span class="line">  &#125;,<span class="hljs-number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">balancedParens(<span class="hljs-string">"((())))"</span>); <span class="hljs-comment">// false</span></span><br><span class="line">balancedParens(<span class="hljs-string">"))((()"</span>); <span class="hljs-comment">// false</span></span><br><span class="line">balancedParens(<span class="hljs-string">"(((())))"</span>); <span class="hljs-comment">// true</span></span><br><span class="line">balancedParens(<span class="hljs-string">"()()()()"</span>); <span class="hljs-comment">// true</span></span><br><span class="line">balancedParens(<span class="hljs-string">'()()()skoaksod'</span>); <span class="hljs-comment">//true</span></span><br></pre></td></tr></table></figure>
<ol>
<li><code>string.split(&#39;&#39;)</code>: å› ä¸ºreduceåªèƒ½åœ¨æ•°ç»„ä¸­ä½¿ç”¨, æ‰€ä»¥å…ˆå°†å‚æ•°çš„ç±»å‹ä»stringè½¬åŒ–ä¸ºarray;</li>
<li>å°†åˆå§‹å€¼è®¾ä¸º0, è‹¥æ•°ç»„ä¸­å‡ºç°<code>(</code>, è®¡æ•°å™¨(counter)+1, å‡ºç°<code>)</code>è®¡æ•°å™¨å‡1, åªæœ‰å½“è®¡æ•°å™¨æœ€åç»“æœä¸º0æ—¶è¿”å›true;</li>
<li><code>!</code>ä¼šå°†ç»“æœå¼ºåˆ¶è½¬æ¢(coercion)ä¸ºå¸ƒå°”å€¼;</li>
<li><code>if (counter &lt; 0) {return counter;}</code>: å¦‚æœè®¡æ•°å™¨å€¼ä¸ºè´Ÿ, ç›´æ¥è¿”å›, æœ€åç»“æœå°±ä¸ºfalse, å› ä¸ºå·¦æ‹¬å·å¿…é¡»åœ¨å³æ‹¬å·ä¹‹å‰.</li>
</ol>
<p><strong>è®¡ç®—ä¸‹ä¾‹ä¸­è§†é¢‘æ—¶é—´æ€»å’Œ</strong></p>
<figure class="highlight html hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"videos"</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"5:43"</span>&gt;</span>Video 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"2:33"</span>&gt;</span>Video 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"3:45"</span>&gt;</span>Video 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"0:47"</span>&gt;</span>Video 4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"5:21"</span>&gt;</span>Video 5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"6:56"</span>&gt;</span>Video 6<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"3:46"</span>&gt;</span>Video 7<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"5:25"</span>&gt;</span>Video 8<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"3:14"</span>&gt;</span>Video 9<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-time</span>=<span class="hljs-string">"3:31"</span>&gt;</span>Video 10<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> timeNodes = [...document.querySelectorAll(<span class="hljs-string">'[data-time]'</span>)];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç¬¬ä¸€ç§æ–¹æ³•:</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-keyword">const</span> seconds = timeNodes</span><br><span class="line">    .map(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> node.dataset.time) <span class="hljs-comment">// æå–æ ‡ç­¾ä¸º'data-time'çš„å±æ€§å€¼, å¹¶æ”¾å…¥æ•°ç»„ä¸­</span></span><br><span class="line">    .map(<span class="hljs-function"><span class="hljs-params">timeCode</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="hljs-keyword">const</span> [mins, secs] = timeCode.split(<span class="hljs-string">':'</span>).map(<span class="hljs-built_in">parseFloat</span>); <span class="hljs-comment">// ç›¸å½“äº.map(str =&gt; parseFloat(str))</span></span><br><span class="line">      <span class="hljs-keyword">return</span> (mins * <span class="hljs-number">60</span>) + secs;</span><br><span class="line">    &#125;)</span><br><span class="line">    .reduce(<span class="hljs-function">(<span class="hljs-params">total, vidSeconds</span>) =&gt;</span> total + vidSeconds);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç¬¬äºŒç§æ–¹æ³•:</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">//    </span></span><br><span class="line"><span class="hljs-comment">// const times = [];</span></span><br><span class="line"><span class="hljs-comment">// timeNodes.map(video =&gt; &#123;</span></span><br><span class="line"><span class="hljs-comment">//   times.push(video.dataset.time.split(':').map(parseFloat));</span></span><br><span class="line"><span class="hljs-comment">// &#125;);</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// const seconds = times.reduce((sum,time) =&gt;  sum += (time[0] * 60 + time[1]), 0);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> secondsLeft = seconds;</span><br><span class="line"><span class="hljs-keyword">const</span> hours = <span class="hljs-built_in">Math</span>.floor(secondsLeft / <span class="hljs-number">3600</span>);</span><br><span class="line">secondsLeft = secondsLeft % <span class="hljs-number">3600</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> mins = <span class="hljs-built_in">Math</span>.floor(secondsLeft / <span class="hljs-number">60</span>);</span><br><span class="line">secondsLeft = secondsLeft % <span class="hljs-number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(hours, mins, secondsLeft);</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>å‚è€ƒ</strong></p>
<ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript30</a></li>
<li><a href="https://www.udemy.com/javascript-es6-tutorial/" target="_blank" rel="noopener">ES6 Javascript</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/posts/2017/02/16/learning-web-dev-from-scratch/" class="prev">PREV</a><a href="/posts/2016/12/13/about-node/" class="next">NEXT</a></div><div class="copyright"><p>Â© 2019 <a href="https://icyfish.github.io/posts">Fish</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>